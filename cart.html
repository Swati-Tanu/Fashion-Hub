<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Hub Cart</title>
    <link rel="stylesheet" href="sales.css">
    <link rel="stylesheet" href="responsive.css">
</head>
<style>
    .cartcont{
        margin:50px auto;
        width:80%;
    }
    .cartcont>div{
        display:flex;
        margin:20px auto;
        box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
    }
    .cartcont>div>div:nth-child(1){
        width:40%;
        height:350px;
        box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;
    }
    .cartcont>div>div:nth-child(1)>img{
        width:100%;
        height:350px;
    }
    .cartcont>div>div:nth-child(1)>img:hover{
        cursor:zoom-in;
    }
    .cartcont>div>div:nth-child(2){
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding-left: 30px;
    }
    .cartcont>div>div:nth-child(2)>h2,
    .cartcont>div>div:nth-child(2)>p{
        margin-bottom:0px;
    }
    .cartcont>div>div:nth-child(2)>p~h2{
        margin-bottom:10px;
    }
    .cartcont>div>div:nth-child(2)>button{
        width:60%;
        margin:20px 0;
        font-size: 16px;
        padding: 8px;
        color: white;
        border: none;
        background-color: rgb(226, 79, 136) ;
    }
    .cartcont>div>div:nth-child(2)>div{
        width:100px;
        display: flex;
        margin:10px 0;
        justify-content: space-between;
        align-items: center;
    }
    .cartcont>div>div:nth-child(2)>div>button{
        font-size: 20px;
        padding: 5px 10px 5px 10px;
        color: white;
        border: none;
        background-color: rgb(226, 79, 136) ;
    }
    .carttotal{
        margin:auto;
        margin-top: 120px;
        text-align: center;
        padding:5px 15px 5px 15px;
        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
        width:20%;
        background-color: rgb(226, 79, 136) ;
        color: white;
    }
    .cart-empty{
        width:80%;
        display: flex;
        justify-content: center;
        margin:auto;
    }
    .hide-div{
        display:none;
    }
</style>
<body>
    <!-----------------Navbar section----------------->
    <div id="navbar">
        <i class="fa-solid fa-bars" onclick="menuitem()"></i>
        <div class="logo">
            <h4><a href="/index.html"><img src="images/logo5.jpg" alt=""></a>
            </h4>
        </div>
        <div class="nav" id="navi">
            <ul>
                <li><a href="/womens.html">WOMEN</a>
                    <ul>
                        <li><a href="#">SHOP ALL</a></li>
                        <li><a href="#">CLOTHING</a></li>
                        <li><a href="#">BAGS</a></li>
                        <li><a href="#">SHOES</a></li>
                        <li><a href="#">ACCESSORIES</a></li>
                        <li><a href="#">BEAUTY</a></li>
                        <li><a href="#">SALE</a></li>
                        <li><a href="#">PRE-OWNED</a></li>
                    </ul>
                </li>
                <li><a href="/mens.html">MEN</a>
                    <ul>
                        <li><a href="#">SHOP ALL</a></li>
                        <li><a href="#">CLOTHING</a></li>
                        <li><a href="#">BAGS</a></li>
                        <li><a href="#">SHOES</a></li>
                        <li><a href="#">ACCESSORIES</a></li>
                        <li><a href="#">GROOMING</a></li>
                        <li><a href="#">SALE</a></li>
                        <li><a href="#">PRE-OWNED</a></li>
                    </ul>
                </li>
             
                <li><a href="/kids.html">KIDS</a>
                    <ul>
                        <li><a href="#">SHOP ALL</a></li>
                        <li><a href="#">BABT GIRLS</a></li>
                        <li><a href="#">BABY BOY</a></li>
                        <li><a href="#">GIRLS</a></li>
                        <li><a href="#">BOY</a></li>
                        <li><a href="#">SALE</a></li>

                    </ul>
                </li>
                <li><a href="/beauty.html">BEAUTY</a>
                    <ul>
                        <li><a href="#">SHOP ALL</a></li>
                        <li><a href="#">WOMEN'S BEAUTY</a></li>
                        <li><a href="#">MEN'S GROOMING</a></li>
                        <li><a href="#">KID'S CARE</a></li>
                        <li><a href="#">SALE</a></li>

                    </ul>
                </li>
                <li><a href="/index.html">HOME</a></li>
                <li><a href="/feedback.html">FEEDBACK</a>

                </li>
                <li><a href="/community.html">COMMUNITY</a>
                    <ul>
                        <li><a href="#">DISCOVER</a></li>
                        <li><a href="#">BLOGS</a></li>
                        <li><a href="#">MY CLOSET</a></li>
                        <li><a href="#">INFLUENCER PROGRAM</a></li>
                    </ul>
                </li>
                <li><a href="/WhyFishionHub.html">FASHION HUB</a></li>
                <li><a href="/sale.html">SALE</a></li>
                <li><a href="/about.html">ABOUT</a></li>
            </ul>
        </div>
        <div class="nav2">
            <ul>
                <li><a href="#"><i class="fa-regular fa-user" onclick="loginPage()"></i>&nbsp;</a></li>
            </ul>
        </div>
    </div>
    
    <!-----------------Cart section----------------->
    <div class="carttotal">
        <h2>BAG TOTAL: Rs. &nbsp;<span class="total">0</span></h2>
    </div>
    <div class="cart-empty">
        <img alt="Cart empty" src="https://www.seekpng.com/png/full/117-1170538_404-your-cart-is-empty.png" />
    </div>
    <div class="cartcont">
        <!-- append cartdata -->
    </div>

    <!------------------- Help section ------------------->
    <hr>


    <div id="section7">

        <div class="sec7">
            <h2>CUSTOMER CARE</h2>
            <a href="#">Shopper Protection</a>
            <a href="#">Loyalty Program</a>
            <a href="#">Help Center</a>
            <a href="#">Size Guides</a>
            <a href="#">Contact Us / Feedback</a>
            <a href="#">Shipping / Returns</a>
        </div>

        <div class="sec7">
            <h2>INFORMATION</h2>
            <a href="/about.html">About Us</a>
            <a href="#">Influencer Program</a>
            <a href="#">Partner Stores</a>
            <a href="#">Sitemap</a>
        </div>

        <div class="sec7">
            <h2>LEGAL</h2>
            <a href="#">Terms Of Use</a>
            <a href="#">Disclosure</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Community Guidelines</a>
        </div>

        <div class="sec7-4">
            <h2>CONNECT WITH US</h2>
            <a
                href="https://appleid.apple.com/auth/authorize?client_id=com.modesens&redirect_uri=https%3A%2F%2Fmodesens.com%2Faccounts%2Fapple%2Flogin%2Fcallback%2F&response_mode=form_post&scope=name%20email&response_type=code%20id_token&state=uWQ9QcwNFx01"><i
                    class="fa-brands fa-apple"></i></a>
            <a href="#"><i class="fa-brands fa-android"></i></a>
            <a href="#"><i class="fa-solid fa-puzzle-piece"></i></a>
        </div>

        <div class="sec7 sec7-last">
            <h2>NEWSLETTER SIGN UP</h2>
            <input type="email" name="email" id="email" placeholder="Email Address">
            <hr>
            <div>
                Men's<input type="radio" name="mygender" id="gender"> Women's<input type="radio" name="mygender" id="gender">
            </div>
            <button class="btnlast">SUBMIT</button>
        </div>

    </div>
    <hr>
    <h5 id="help-h5">When you follow our links to visit a brand or retailer's website or make a purchase, Fashion Hub may earn a
        commission.</h5>



    <!------------------- Footer section ------------------->
    <hr>
    <div id="footer">
        <div class="one"><span>M</span>
            <p>© 2022, JS-ECOM</p>
        </div>
        <div class="two">
            <li><a href="#"><i class="fa-brands fa-pinterest"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-twitter"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-facebook"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-weibo"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-weixin"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-reddit-alien"></i></a></li>
            <li><a href="#"><i class="fa-solid fa-gamepad"></i></a></li>
        </div>
    </div>
</body>
</html>
<script src="https://kit.fontawesome.com/b06a377e67.js" crossorigin="anonymous"></script>
<script>
    
    // let lss=[
    // {
    //     "title": "Caudalie Vinergetic Mask",
    //     "avatar": "https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/c/8/c8af0743522931003525_1.jpg",
    //     "price": "958.00",
    //     "qty": "75 ml",
    //     "rating": "★★★★☆",
    //     "id": "1"
    // },
    // {
    //     "title": "Bobbi Brown Skin Cover",
    //     "avatar": "https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/0/a/0a30390716170295640_0.jpg",
    //     "price": "54.00",
    //     "qty": "2 ml",
    //     "rating": "★★★☆☆",
    //     "id": "2"
    // }];

    let cartData=JSON.parse(localStorage.getItem("cart"));
    displayCart(cartData);
    totalCost(cartData);

    let cart_empty=document.querySelector(".cart-empty");
    if(cartData.length!=0){
        cart_empty.classList.add("hide-div");
    }else{
        cart_empty.classList.remove("hide-div");
    }

    function displayCart(data){
        document.querySelector(".cartcont").innerHTML="";
        data.forEach((elem,index)=>{
            let maindiv=document.createElement("div");
            let leftdiv=document.createElement("div");
            let rightdiv=document.createElement("div");

            let pic=document.createElement("img");
            pic.setAttribute("src",elem.avatar);
            let title=document.createElement("h2")
            title.innerText=elem.title;
            let qty=document.createElement("p");
            qty.innerText="Qty: "+elem.qty;
            let rating=document.createElement("p");
            rating.innerText="Rating: "+elem.rating;
            let price=document.createElement("h2");
            price.innerText="Rs: "+elem.price;

            let calcdiv=document.createElement("div");
            let plus=document.createElement("button");
            plus.innerText="+";
            plus.addEventListener("click",function(){
            span.innerText++;
            totalCost(cartData);
            })

            let span=document.createElement("span");
            span.setAttribute("class","qty");
            span.innerText=1;

            let minus=document.createElement("button");
            minus.innerText="-";
            minus.addEventListener("click",function(){
            if(span.innerText>=1){  
            span.innerText--;
            }
            totalCost(cartData);
            })

            let del=document.createElement("button");
            del.innerText="REMOVE ITEM";
            del.addEventListener("click",function(){
                deleteData(cartData,index);
            })

            calcdiv.append(minus,span,plus);
            rightdiv.append(title,qty,rating,price,calcdiv,del);
            leftdiv.append(pic);
            maindiv.append(leftdiv,rightdiv)
            document.querySelector(".cartcont").append(maindiv);
        })
    }

    function totalCost(arr){
      let qty=document.querySelectorAll(".qty");
      let sum=0;
      for (let i=0; i<=qty.length-1; i++){
        if(arr.length==0){
          sum=0;
        }else{
          sum=sum+(Number(qty[i].innerText)*arr[i].price);
        }
      }
      //console.log(sum);
      document.querySelector(".total").innerText=sum;
    }

    // document.querySelector("#search").addEventListener("input",function(){
    //     let searchValue=document.querySelector("#search").value;
    //     let searchData=cartData.filter((elem,index)=>{
    //         return elem.title.toLowerCase().includes(searchValue.toLowerCase());
    //     })
    //     displayCart(searchData);
    // })

    function deleteData(array,index){
        array.splice(index,1);
        localStorage.setItem("cart",JSON.stringify(array));
        displayCart(array);
        totalCost(cartData);
    }
</script>